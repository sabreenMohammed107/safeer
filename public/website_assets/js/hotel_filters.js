var arr=[],arr_countries=[],arr_cities=[],arr_zones=[],arr_ratings=[],sort_by=0;function fetch_hotels(){$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:"/hotels/retrieve",method:"POST",data:{hotel_ids:$("input[name=hotel_ids]").val(),hotel_rating:$("input[name=hotel_rating]").val(),hotel_countries_ids:$("input[name=hotel_countries_ids]").val(),hotel_cities_ids:$("input[name=hotel_cities_ids]").val(),hotel_zone_ids:$("input[name=hotel_zone_ids]").val(),price_from:$("input[name=price_from]").val(),price_to:$("input[name=price_to]").val(),sort_by:sort_by,page_num:$("input[name=page_num]").val()},success:function(t){console.log(t),$("#table_data").html(t)},error:function(t,e,a){console.log(e+" - "+t.responseText)}})}function search_hotels(){$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:"/hotels/search",method:"POST",data:{childs:$("[name=childs]").val(),adults:$("[name=adults]").val(),nights:$("[name=nights]").val(),end_date:$("input[name=end_date]").val(),from_date:$("input[name=from_date]").val(),country_id:$("[name=country_id]").val()},success:function(t){console.log(t),$("#hotels_content").html(t)},error:function(t,e,a){console.log(e+" - "+t.responseText)}})}$(".hotel_id").change(function(){if($(this).is(":checked"))arr.push($(this).attr("data-id"));else{var t=$(this).attr("data-id");arr=$.grep(arr,function(e){return e!=t})}$("input[name=hotel_ids]").val(arr),fetch_hotels()}),$(".hotel_cities_id").change(function(){if($(this).is(":checked"))arr_cities.push($(this).attr("data-id"));else{var t=$(this).attr("data-id");arr_cities=$.grep(arr_cities,function(e){return e!=t})}$("input[name=hotel_cities_ids]").val(arr_cities),fetch_hotels()}),$(".hotel_zone_id").change(function(){if($(this).is(":checked"))arr_zones.push($(this).attr("data-id"));else{var t=$(this).attr("data-id");arr_zones=$.grep(arr_zones,function(e){return e!=t})}$("input[name=hotel_zone_ids]").val(arr_zones),fetch_hotels()}),$(".hotel_countries_id").change(function(){if($(this).is(":checked"))arr_countries.push($(this).attr("data-id"));else{var t=$(this).attr("data-id");arr_countries=$.grep(arr_countries,function(e){return e!=t})}$("input[name=hotel_countries_ids]").val(arr_countries),fetch_hotels()}),$(".rate_val").change(function(){if($(this).is(":checked"))arr_ratings.push($(this).attr("data-val"));else{var t=$(this).attr("data-val");arr_ratings=$.grep(arr_ratings,function(e){return e!=t})}$("input[name=hotel_rating]").val(arr_ratings),fetch_hotels()});
